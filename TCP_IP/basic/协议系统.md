## 网络访问层

### 网络访问与OSI模型

数据链路层的两个任务：

- 介质访问控制（MAC）：提供与网络适配器的接口
- 逻辑链路控制：对帧进行错误检查（CRC校验），管理子网上通信设备之间的链路

OSI的物理层把数据帧转化为适合传输介质的比特流

### 网络架构

#### 网络架构的规范

- 访问方法
- 数据帧格式
- 布线类型
- 布线规则

####  网络访问层的架构

- 以太网（最常见的局域网架构）
- 无线网络
- WiMAX
- PPP

### 物理寻址

物理地址也成为**MAC地址** 在OSI模型中，物理寻址由介质访问控制（MAC）子层负责。**ARP**协议可以将IP地址解析为物理地址供数据链路层和物理层使用。

## 网际层

### IP协议

IP协议提供了一种分层的，和硬件无关的寻址系统，用于在复杂的路由式网络中进行数据转发。**每个网络适配器有唯一的IP地址**，一般的计算机只有一个网络适配器，因此只有一个IP,路由器等设备有多个适配器，因此有多个IP地址。

#### IP地址的组成

IP地址的前一部分是网络号，后面剩余的位是主机号。（这里的网络是局域网）

在传统的地址分类系统中，网络被分为A~E一共五类，它们的区别是网络号的位数和前缀不同。在目前留下的CIDR技术下，网络号和主机号的位数需要用**子网掩码**来确定。

````
1111 1111 1100 0000 0000 0000//ipv4的子网掩码
````

IP地址中和掩码1对应的位是网络号，和0对应的位是主机号。

IP协议是不可靠的传输协议，其可靠性由上层的TCP协议来保证

## 传输层

传输层连接着上层的应用层和下层的网络层，具有以下功能：

- 为网络应用程序提供接口
- 错误检测，流量控制和验证

传输层协议主要有TCP和UDP协议，前者是面向连接的，可靠的传输层协议。后者是面向无连接的，不可靠的传输层协议。

构建传输层的接口不仅仅是IP,还有端口。IP和端口共同构成`socket(套接字)`正是因为一台主机有多个端口，电脑才能多个程序（进程）同时使用网络服务。不同协议（比如TCP和UDP）之间的端口互不干扰。

### TCP

TCP具有如下的重要特性：

- 面向流的处理
- 重新排序
- 流量控制
- 优先级与安全
- 适当地关闭

socket之间进行TCP通信需要先建立连接，然后进行数据传送（这个过程中有收发确认，错误重传等过程来保证数据的正确性以及流量控制等机制），最后再关闭连接。

### UDP

UDP比TCP要简单，没有复杂的确认机制，因此它的速度更快

UDP和TCP有不同的应用场景。